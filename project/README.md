## í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì„±

| ê²½ë¡œ | ì„¤ëª… |
|------|------|
| `data/decompress.py` | CHiME-5 ë°ì´í„°ì…‹ `.tar.gz` íŒŒì¼ ì••ì¶• í•´ì œ ìŠ¤í¬ë¦½íŠ¸ |
| `project/run/sample_util.py` | ì „ì²˜ë¦¬ ë° ë°ì´í„°ì…‹ êµ¬ì„± ìœ í‹¸ë¦¬í‹° |
| `project/run/wav2vec_finetune.py` | Wav2Vec 2.0 ëª¨ë¸ íŒŒì¸íŠœë‹ ìŠ¤í¬ë¦½íŠ¸ |
| `project/run/wav2vec_inference.py` | Wav2Vec 2.0 ì¶”ë¡ (inference) ìŠ¤í¬ë¦½íŠ¸ |
| `project/tool/check_tar_contents.py` | `.tar` íŒŒì¼ ë‚´ `wav`, `txt` í¬ë§· ê²€ì¦ ë„êµ¬ |
| `project/tool/create_chime5_webdataset.py` | CHiME-5 Raw ë°ì´í„°ë¥¼ WebDataset í¬ë§·ìœ¼ë¡œ ë³€í™˜ |
| `project/models/` | í•™ìŠµëœ ëª¨ë¸ ì €ì¥ ë””ë ‰í† ë¦¬ |

# CHiME-5 ê¸°ë°˜ WebDataset ìŒì„± ì¸ì‹ ë° ë°œí™” ì˜ë„ ë¶„ì„ìš© ë°ì´í„°ì…‹

ë³¸ ë°ì´í„°ì…‹ì€ CHiME-5 ì½”í¼ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ëœ WebDataset í˜•ì‹ì˜ ìŒì„± ì¸ì‹ ë° ë°œí™” ì˜ë„ ë¶„ì„ìš© ë°ì´í„°ì…‹ì…ë‹ˆë‹¤.  
ìŒì„± ë°œí™” ë‹¨ìœ„ë¥¼ `start_time` ë° `end_time` ê¸°ì¤€ìœ¼ë¡œ segmentí•˜ì—¬ `.wav` í˜•ì‹ìœ¼ë¡œ ì €ì¥í•˜ê³ , ê·¸ì— ëŒ€ì‘ë˜ëŠ” ì „ì‚¬ ì •ë³´ë¥¼ `.txt`ë¡œ í•¨ê»˜ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ“Œ ë°ì´í„°ì…‹ ì±„íƒ ì´ìœ 

- **CHiME-5**ëŠ” ì‹¤ì œ ê°€ì • í™˜ê²½ì—ì„œ ë…¹ìŒëœ ë‹¤ì¸ ëŒ€í™” ìŒì„±ì„ í¬í•¨í•˜ë©°, í˜„ì‹¤ì ì¸ ë…¸ì´ì¦ˆ í™˜ê²½ì—ì„œì˜ ìë™ ìŒì„± ì¸ì‹(ASR) ë° ìŒì„± ì´í•´(SLU)ì— ì í•©í•œ ëŒ€í‘œì ì¸ ë²¤ì¹˜ë§ˆí¬ì…ë‹ˆë‹¤.
- ë°œí™”ë³„ ì‹œê°„ ì •ë³´ê°€ ìƒì„¸í•˜ê²Œ ì£¼ì–´ì ¸ ìˆì–´, **ì„¸ë°€í•œ ë‹¨ìœ„ì˜ ë°œí™” ì¸ì‹ ë° íƒœê¹… í•™ìŠµì— ì í•©**í•©ë‹ˆë‹¤.
- ë˜í•œ, ì‹¤ì œ ì‚¬ìš©ì ê°„ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” íë¦„, ê²¹ë§(overlap), ë¹„ìœ ì°½ì„±(disfluency)ì´ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— **ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ë³µí•© ëª¨ë¸ í•™ìŠµ**ì— íš¨ê³¼ì ì…ë‹ˆë‹¤.

---

## ğŸ” ìƒ˜í”Œ êµ¬ì„±

ê° `.tar` íŒŒì¼(shard)ì€ WebDataset í¬ë§·ì„ ë”°ë¥´ë©°, í•˜ë‚˜ì˜ ìƒ˜í”Œì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë©ë‹ˆë‹¤:

| Key | ì„¤ëª… |
|-----|------|
| `__key__` | ìœ ë‹ˆí¬ ìƒ˜í”Œ ì‹ë³„ì (UUID) |
| `wav` | `.wav` í˜•ì‹ì˜ ë°œí™” ì˜¤ë””ì˜¤ (byte stream) |
| `txt` | ëŒ€ì‘ë˜ëŠ” í…ìŠ¤íŠ¸ ì „ì‚¬ (str) |

Python ì˜ˆì‹œ:

```python
import webdataset as wds

dataset = (
    wds.WebDataset("wds/train/shard-000000.tar")
    .decode()
    .to_tuple("wav", "txt")
)

for audio, text in dataset:
    print(text)  # ì „ì‚¬ ì¶œë ¥
```

## ğŸ§ª í•™ìŠµ ë° ì¶”ë¡  ì‚¬ìš© ë°©ì‹

| ìš©ë„ | ì‚¬ìš© split |
|------|------------|
| ëª¨ë¸ í•™ìŠµ (`trainer.train()`) | âœ… `train/` + `dev/` |
| ì„±ëŠ¥ ê²€ì¦ (`eval_dataset`, WER ì¶”ì  ë“±) | âœ… `dev/` |
| ëª¨ë¸ ì¶”ë¡  (ì˜ˆ: test-time decoding) | âœ… `eval/` |

- `train` ë° `dev` splitì€ ëª¨ë‘ ì „ì‚¬ ë¼ë²¨ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, í•™ìŠµ ë° ê²€ì¦ ë‹¨ê³„ì— ì‚¬ìš©ë©ë‹ˆë‹¤.
- `dev`ëŠ” `eval_dataset`ìœ¼ë¡œ í• ë‹¹ë˜ì–´ ëª¨ë¸ì˜ ì„±ëŠ¥(WER ë“±)ì„ í‰ê°€í•˜ê³ , `load_best_model_at_end` ê¸°ì¤€ì´ ë©ë‹ˆë‹¤.
- `eval` splitì€ í•™ìŠµì— ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©°, **ìµœì¢… ë””ì½”ë”© ê²°ê³¼ í‰ê°€ ë˜ëŠ” ì˜ˆì¸¡ í…ŒìŠ¤íŠ¸**ì— ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## âš™ï¸ ì „ì²˜ë¦¬ ë° ìƒì„± ì •ë³´

- **ì›ë³¸ ë°ì´í„°ì…‹**: [CHiME-5 ê³µì‹ ì‚¬ì´íŠ¸](https://www.chimechallenge.org/datasets/chime5)
- **ì˜¤ë””ì˜¤ segment ê¸°ì¤€**: `start_time` ë° `end_time` (JSON ê¸°ë°˜)
- **ì‚¬ìš© ë„êµ¬**:
  - `pydub` (ì˜¤ë””ì˜¤ segment ì¶”ì¶œ)
  - `webdataset` (ìƒ¤ë“œ í¬ë§· ì €ì¥)
  - `transformers`, `evaluate` (Hugging Face ê¸°ë°˜ í•™ìŠµ)
- **ë³€í™˜ ìŠ¤í¬ë¦½íŠ¸**: `create_chime5_webdataset.py`

---

## Result

| í‰ê°€ì§€í‘œ                      | baseline(wav2vec) | fintuned wav2vec |
|---------------------------|-------------------|------------------|
| WER<br/>(Word Error Rate)      | 1.0               | 1.0              |
| CER<br/>(Character Error Rate) | 1.0               | 1.0              |
